---

//import components
import MainNav from "@/components/navigations/MainNav.astro";


---
<!-- 
    siteHeader.astro
    - CTA/Black bar at top
        - cta links
        - search
    - header 
        - logo
        - main nav
 -->

    <!-- <div class="primary-layout"> -->

        <header class="primary-layout siteHeader" id="siteHeader">
            <div id="skip-to-nav" class="skipNav full-width">
                <div class="skipLinks">
                <a href="">Main nav</a><a href="">Content</a>
                </div>
            </div>                
            <div class="logoActions">
                <a href="" class="hsc-logo">
                    <img src="/images/theme/hsc-logo-two-line.png" class="logo logo--small" alt="Hampden Sydney College"/>
                    <img src="/images/theme/hsc-logo.png"  class="logo logo--large" alt="Hampden Sydney College"/><span class="sr-only">Hampden Sydney College</span>
                </a>
                <div class="actions">
                    <a href="#" id="searchToggle" class="searchToggle" arial-label="show search field"></a>
                    <span></span>
                    <div class="cta">
                        <a href="">visit</a>
                        <a href="">apply</a>
                        <a href="">give</a> 
                    </div>
                    <span></span>
                    <a href="#" id="mainNavToggle" class="menuTrigger" aria-label="Open main navigation">Menu <span></span><span></span><span></span><span></span></a>
                </div> 
            </div>
          
        </header>
        <MainNav></MainNav>
        
    <!-- </div> -->

<script is:inline src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>

<script is:inline  src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

<script is:inline>
/* When the user scrolls down, hide the navbar. When the user scrolls up, show the navbar */
    // {
    //     const siteHeader = document.querySelector(".siteHeader");
    //     const navWraper = document.querySelector(".mainNavWrapper");
    //     let lastScrollY = window.scrollY;



    //     window.addEventListener("scroll", () => {
    //         if (window.scrollY > 300){
    //             if (lastScrollY < window.scrollY){
    //                 siteHeader.classList.add("scrolled");
    //                 navWraper.classList.add("scrolled");
    //             } else {
    //                 siteHeader.classList.remove("scrolled");
    //                 navWraper.classList.remove("scrolled");
    //             }
    //             lastScrollY = window.scrollY;      
    //         }
    //     })
    // }
    // var actionNav = 
    //     gsap.to('.siteHeader', {height: "75px", duration:0.5, ease:'power2.in', paused:true})
    //     ;

    // ScrollTrigger.create({



    // });
    let mm = gsap.matchMedia();

    mm.add("(min-width: 800px)", () => {
        gsap.defaults({ease: "none", duration: 0.25})
        gsap.timeline({scrollTrigger:{
            trigger: ".siteHeader",
            start: "top -100px",
            end: "bottom 0px",
            // scrub: true,
            // markers: true,
            toggleActions: "play play reverse reverse"
        }})
        // .to('.logo--large', { opacity: 0, duration: 0.75})
        .to('.logo--large', {height: 0})
        .to('.logo--small', {height: "auto"})
        .to('.logoActions', {fontSize: "16px"}, 0)
    });
</script>
